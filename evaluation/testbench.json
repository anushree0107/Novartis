{
  "metadata": {
    "version": "1.0",
    "created": "2025-12-30",
    "description": "Text-to-SQL evaluation testbench for clinical trial data",
    "total_questions": 30,
    "difficulty_distribution": {
      "easy": 10,
      "medium": 12,
      "hard": 8                 
    }
  },
  "test_cases": [
    {
      "id": 1,
      "difficulty": "easy",
      "category": "count",
      "question": "How many patients are in Study 10?",
      "expected_answer": 82,
      "answer_type": "single_value",
      "notes": "Simple count of distinct subjects"
    },
    {
      "id": 2,
      "difficulty": "easy",
      "category": "count",
      "question": "How many sites are there in Study 10?",
      "expected_answer": 35,
      "answer_type": "single_value",
      "notes": "Count of distinct site_id"
    },
    {
      "id": 3,
      "difficulty": "easy",
      "category": "count",
      "question": "How many countries have patients enrolled in Study 10?",
      "expected_answer": 9,
      "answer_type": "single_value",
      "notes": "Count distinct countries"
    },
    {
      "id": 4,
      "difficulty": "easy",
      "category": "list",
      "question": "List all countries in Study 10",
      "expected_answer": ["JPN", "HUN", "CAN", "POL", "ITA", "CHN", "CZE", "ESP", "USA"],
      "answer_type": "list",
      "notes": "Distinct country values"
    },
    {
      "id": 5,
      "difficulty": "easy",
      "category": "count",
      "question": "How many MedDRA coding records (don't need to be distinct) are there for Study 10?",
      "expected_answer": 796,
      "answer_type": "single_value",
      "notes": "Total count from meddra table"
    },
    {
      "id": 6,
      "difficulty": "easy",
      "category": "count",
      "question": "What is the total number of patients across all studies?",
      "expected_answer": "varies",
      "answer_type": "single_value",
      "notes": "Requires aggregation across multiple tables",
      "validation": "result > 500"
    },
    {
      "id": 7,
      "difficulty": "easy",
      "category": "lookup",
      "question": "Which country has the most patients in Study 10?",
      "expected_answer": "USA",
      "answer_type": "single_value",
      "notes": "Group by country, order by count"
    },
    {
      "id": 8,
      "difficulty": "easy",
      "category": "count",
      "question": "How many distinct patients are from USA in Study 10?",
      "expected_answer": 45,
      "answer_type": "single_value",
      "notes": "Filter by country and count"
    },
    {
      "id": 9,
      "difficulty": "easy",
      "category": "count",
      "question": "How many patients are from Japan in Study 10?",
      "expected_answer": 11,
      "answer_type": "single_value",
      "notes": "Filter by country='JPN'"
    },
    {
      "id": 10,
      "difficulty": "easy",
      "category": "existence",
      "question": "Are there any patients from China in Study 10?",
      "expected_answer": true,
      "answer_type": "boolean",
      "notes": "Check existence of CHN records"
    },
    {
      "id": 11,
      "difficulty": "medium",
      "category": "aggregation",
      "question": "What is the average number of patients per site in Study 10?",
      "expected_answer": 2.34,
      "answer_type": "single_value",
      "tolerance": 0.1,
      "notes": "Total patients / total sites"
    },
    {
      "id": 12,
      "difficulty": "medium",
      "category": "ranking",
      "question": "What are the top 3 countries by patient count in Study 10?",
      "expected_answer": ["USA", "JPN", "CHN"],
      "answer_type": "ordered_list",
      "notes": "Group by country, order by count DESC, limit 3"
    },
    {
      "id": 13,
      "difficulty": "medium",
      "category": "comparison",
      "question": "Which study has more patients - Study 10 or Study 11?",
      "expected_answer": "requires_comparison",
      "answer_type": "comparison",
      "notes": "Compare counts across two studies"
    },
    {
      "id": 14,
      "difficulty": "medium",
      "category": "aggregation",
      "question": "How many patients per country in Study 10?",
      "expected_answer": {
        "USA": 45,
        "JPN": 11,
        "CHN": 9,
        "CAN": 5,
        "POL": 4
      },
      "answer_type": "key_value_pairs",
      "notes": "Group by country with counts"
    },
    {
      "id": 15,
      "difficulty": "medium",
      "category": "filter",
      "question": "How many sites in Study 10 have more than 3 patients?",
      "expected_answer": "varies",
      "answer_type": "single_value",
      "validation": "result >= 0",
      "notes": "Subquery or HAVING clause needed"
    },
    {
      "id": 16,
      "difficulty": "medium",
      "category": "aggregation",
      "question": "What is the distribution of patients by region in Study 10?",
      "expected_answer": "varies",
      "answer_type": "key_value_pairs",
      "notes": "Group by region column"
    },
    {
      "id": 17,
      "difficulty": "medium",
      "category": "percentage",
      "question": "What percentage of Study 10 patients are from USA?",
      "expected_answer": 54.88,
      "answer_type": "single_value",
      "tolerance": 1.0,
      "notes": "45/82 * 100"
    },
    {
      "id": 18,
      "difficulty": "medium",
      "category": "filter",
      "question": "List countries with fewer than 5 patients in Study 10",
      "expected_answer": ["HUN", "POL", "ITA", "CZE", "ESP"],
      "answer_type": "list",
      "notes": "Filter on count < 5"
    },
    {
      "id": 19,
      "difficulty": "medium",
      "category": "join",
      "question": "How many unique subjects have MedDRA coding records in Study 10?",
      "expected_answer": "varies",
      "answer_type": "single_value",
      "validation": "result > 0",
      "notes": "Count distinct subjects from meddra table"
    },
    {
      "id": 20,
      "difficulty": "medium",
      "category": "status",
      "question": "What are the different subject statuses in Study 10?",
      "expected_answer": "varies",
      "answer_type": "list",
      "notes": "Distinct values from subject_status column"
    },
    {
      "id": 21,
      "difficulty": "medium",
      "category": "aggregation",
      "question": "What is the total number of coding records across MedDRA and WHODD for Study 10?",
      "expected_answer": "varies",
      "answer_type": "single_value",
      "validation": "result > 796",
      "notes": "Sum from two different tables"
    },
    {
      "id": 22,
      "difficulty": "medium",
      "category": "comparison",
      "question": "Which country has the second highest patient count in Study 10?",
      "expected_answer": "JPN",
      "answer_type": "single_value",
      "notes": "Ranking query, offset 1"
    },
    {
      "id": 23,
      "difficulty": "hard",
      "category": "multi_table",
      "question": "For Study 10, what is the ratio of MedDRA records to total patients?",
      "expected_answer": 9.71,
      "answer_type": "single_value",
      "tolerance": 0.5,
      "notes": "796/82 - requires joining data from different tables"
    },
    {
      "id": 24,
      "difficulty": "hard",
      "category": "multi_study",
      "question": "Which 3 studies have the highest number of enrolled patients?",
      "expected_answer": "varies",
      "answer_type": "ordered_list",
      "notes": "Aggregate across multiple study tables"
    },
    {
      "id": 25,
      "difficulty": "hard",
      "category": "correlation",
      "question": "Is there a study where USA is not the country with most patients?",
      "expected_answer": "varies",
      "answer_type": "boolean",
      "notes": "Complex aggregation and comparison across studies"
    },
    {
      "id": 26,
      "difficulty": "hard",
      "category": "trend",
      "question": "Compare patient enrollment across Study 10, 11, and 13",
      "expected_answer": "varies",
      "answer_type": "key_value_pairs",
      "notes": "Multi-study aggregation"
    },
    {
      "id": 27,
      "difficulty": "hard",
      "category": "nested",
      "question": "What percentage of all studies have patients from more than 5 countries?",
      "expected_answer": "varies",
      "answer_type": "single_value",
      "notes": "Requires nested aggregation"
    },
    {
      "id": 28,
      "difficulty": "hard",
      "category": "analytics",
      "question": "What is the median number of patients per site across all sites in Study 10?",
      "expected_answer": "varies",
      "answer_type": "single_value",
      "notes": "Statistical function needed"
    },
    {
      "id": 29,
      "difficulty": "hard",
      "category": "multi_table",
      "question": "For Study 10, list sites that have both subject records and MedDRA coding records",
      "expected_answer": "varies",
      "answer_type": "list",
      "notes": "Join across tables with intersection"
    },
    {
      "id": 30,
      "difficulty": "hard",
      "category": "comprehensive",
      "question": "Generate a summary report: total patients, sites, and countries for Studies 10, 11, and 13",
      "expected_answer": "varies",
      "answer_type": "table",
      "notes": "Multi-column, multi-row result from multiple studies"
    }
  ]
}
